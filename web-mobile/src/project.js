window.__require=function t(c,e,o){function i(r,s){if(!e[r]){if(!c[r]){var a=r.split("/");if(a=a[a.length-1],!c[a]){var l="function"==typeof __require&&__require;if(!s&&l)return l(a,!0);if(n)return n(a,!0);throw new Error("Cannot find module '"+r+"'")}}var h=e[r]={exports:{}};c[r][0].call(h.exports,function(t){return i(c[r][1][t]||t)},h,h.exports,t,c,e,o)}return e[r].exports}for(var n="function"==typeof __require&&__require,r=0;r<o.length;r++)i(o[r]);return i}({Ball:[function(t,c,e){"use strict";cc._RF.push(c,"3cc2dnTpMVE/JFHaMV/dxhw","Ball"),cc.Class({extends:cc.Component,properties:{rb:cc.RigidBody},init:function(t){this.controller=t,this.setSpeed()},setSpeed:function(){var t=cc.v2(800,800);this.rb.linearVelocity=t},onBeginContact:function(t,c,e){switch(e.tag){case 1:this.controller.contactWithGround();break;case 2:this.controller.contactWithBricks(e.node)}}}),cc._RF.pop()},{}],Block:[function(t,c,e){"use strict";cc._RF.push(c,"66802zyWGhAcIzqeOVZ8RB3","Block");var o=t("Mathf");cc.Class({extends:cc.Component,properties:{_canAttack:!0,_currentHP:0,color1:cc.Color,color2:cc.Color,color3:cc.Color,color4:cc.Color},setPos:function(t,c,e){this.node.x=(this.node.width+e)*c,this.node.y=-(this.node.height+e/2)*t},health:function(t){var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._canAttack=c,this.maxHP=t,this._currentHP=t,this.setColor(t)},takeDamage:function(t){this._canAttack&&(this._currentHP=o.clamp(this._currentHP-t,1,this.maxHP),cc.log(this._currentHP),this._currentHP>1?this.setColor(this._currentHP):this.node.destroy())},setColor:function(t){switch(t){case 1:this.node.color=this.color1;break;case 2:this.node.color=this.color2;break;case 3:this.node.color=this.color3;break;case 4:this.node.color=this.color4}}}),cc._RF.pop()},{Mathf:"Mathf"}],Bricks:[function(t,c,e){"use strict";cc._RF.push(c,"7cca5HviUpGNaUMzGAjKZGu","Bricks"),cc.Class({extends:cc.Component,properties:{block:cc.Prefab},init:function(t){for(var c=0;c<t.length;c++)for(var e=0;e<t[c].length;e++)switch(t[c][e]){case 0:break;case 1:this.createBlock(c,e,1,!1);break;case 2:this.createBlock(c,e,2);break;case 3:this.createBlock(c,e,3);break;case 4:this.createBlock(c,e,4)}},createBlock:function(t,c,e,o){var i=cc.instantiate(this.block),n=i.getComponent("Block");n.setPos(t,c,15),n.health(e,o),i.parent=this.node}}),cc._RF.pop()},{}],GameController:[function(t,c,e){"use strict";cc._RF.push(c,"3b7c6EFi45Dhp1UAWcHr6Lj","GameController"),cc.Class({extends:cc.Component,properties:{ball:t("Ball"),bricks:t("Bricks"),paddle:t("Paddle")},onLoad:function(){this.physicsManager=cc.director.getPhysicsManager(),this.physicsManager.enabled=!0,this.init()},init:function(){this.ball.init(this),this.paddle.init(),this.bricks.init([[0,1,1,1,1,1,1,1,0],[1,2,2,4,4,4,2,2,1],[2,3,3,3,3,3,3,3,2],[3,1,0,0,0,0,0,1,3],[3,2,2,2,2,2,2,2,3],[2,4,4,4,4,4,4,4,2],[1,1,0,0,0,0,0,1,1]])},pauseGame:function(){this.physicsManager.enabled=!1},resumeGame:function(){this.physicsManager.enabled=!0},stopGame:function(){this.physicsManager.enabled=!1},contactWithGround:function(){this.stopGame()},contactWithBricks:function(t){t.getComponent("Block").takeDamage(1)}}),cc._RF.pop()},{Ball:"Ball",Bricks:"Bricks",Paddle:"Paddle"}],Mathf:[function(t,c,e){"use strict";cc._RF.push(c,"9af41+aDnZJZKgs6YabtbwF","Mathf"),c.exports={clamp:function(t,c,e){return Math.min(Math.max(t,c),e)}},cc._RF.pop()},{}],Paddle:[function(t,c,e){"use strict";cc._RF.push(c,"2e2c2pyb91CmL6hK/u2CFk+","Paddle"),cc.Class({extends:cc.Component,properties:{limitSize:350},onLoad:function(){var t=this;this.node.parent.on("touchmove",function(c){var e=c.getDelta(),o=cc.v2(t.node.x+e.x,t.node.y);o.x<-t.limitSize||o.x>t.limitSize||(t.node.position=o)})},init:function(){this.node.x=0}}),cc._RF.pop()},{}]},{},["Mathf","Ball","Block","Bricks","Paddle","GameController"]);